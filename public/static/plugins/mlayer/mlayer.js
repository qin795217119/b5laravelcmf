/*! mlayer mobile-v2.0 弹层组件移动版 License LGPL http://mlayer.layui.com/mobile By 贤心 */
!function(t){var s=document,r="querySelectorAll",q="getElementsByClassName",p=function(b){return s[r](b)},o={type:0,shade:!0,shadeClose:!0,fixed:!0,anim:"scale"},n={extend:function(e){var d=JSON.parse(JSON.stringify(o));for(var f in e){d[f]=e[f]}return d},timer:{},end:{}};n.touch=function(d,c){d.addEventListener("click",function(b){c.call(this,b)},!1)};var m=0,l=["layui-m-mlayer"],k=function(d){var c=this;c.config=n.extend(d),c.view()};k.prototype.view=function(){var e=this,w=e.config,v=s.createElement("div");e.id=v.id=l[0]+m,v.setAttribute("class",l[0]+" "+l[0]+(w.type||0)),v.setAttribute("index",m);var u=function(){var c="object"==typeof w.title;return w.title?'<h3 style="'+(c?w.title[1]:"")+'">'+(c?w.title[0]:w.title)+"</h3>":""}(),i=function(){"string"==typeof w.btn&&(w.btn=[w.btn]);var f,c=(w.btn||[]).length;return 0!==c&&w.btn?(f='<span yes type="1">'+w.btn[0]+"</span>",2===c&&(f='<span no type="0">'+w.btn[1]+"</span>"+f),'<div class="layui-m-mlayerbtn">'+f+"</div>"):""}();if(w.fixed||(w.top=w.hasOwnProperty("top")?w.top:100,w.style=w.style||"",w.style+=" top:"+(s.body.scrollTop+w.top)+"px"),2===w.type&&(w.shadeClose=false,w.content='<i></i><i class="layui-m-mlayerload"></i><i></i><p>'+(w.content||"")+"</p>"),w.skin&&(w.anim="up"),"msg"===w.skin,v.innerHTML=(w.shade?"<div "+("string"==typeof w.shade?'style="'+w.shade+'"':"")+' class="layui-m-mlayershade"></div>':"")+'<div class="layui-m-mlayermain" '+(w.fixed?"":'style="position:static;"')+'><div class="layui-m-mlayersection"><div class="layui-m-mlayerchild '+(w.skin?"layui-m-mlayer-"+w.skin+" ":"")+(w.className?w.className:"")+" "+(w.anim?"layui-m-anim-"+w.anim:"")+'" '+(w.style?'style="'+w.style+'"':"")+">"+u+'<div class="layui-m-mlayercont">'+w.content+"</div>"+i+"</div></div></div>",!w.type||2===w.type){var h=s[q](l[0]+w.type),d=h.length;d>=1&&mlayer.close(h[0].getAttribute("index"))}document.body.appendChild(v);var b=e.elem=p("#"+e.id)[0];w.success&&w.success(b),e.index=m++,e.action(w,b)},k.prototype.action=function(g,d){var z=this;g.time&&(n.timer[z.index]=setTimeout(function(){mlayer.close(z.index)},1000*g.time));var y=function(){var a=this.getAttribute("type");0==a?(g.no&&g.no(),mlayer.close(z.index)):g.yes?g.yes(z.index):mlayer.close(z.index)};if(g.btn){for(var x=d[q]("layui-m-mlayerbtn")[0].children,w=x.length,v=0;w>v;v++){n.touch(x[v],y)}}if(g.shade&&g.shadeClose){var u=d[q]("layui-m-mlayershade")[0];n.touch(u,function(){mlayer.close(z.index,g.end)})}g.end&&(n.end[z.index]=g.end)},t.mlayer={v:"2.0",index:m,open:function(d){var c=new k(d||{});return c.index},close:function(b){var d=p("#"+l[0]+b)[0];d&&(d.innerHTML="",s.body.removeChild(d),clearTimeout(n.timer[b]),delete n.timer[b],"function"==typeof n.end[b]&&n.end[b](),delete n.end[b])},closeAll:function(){for(var b=s[q](l[0]),f=0,d=b.length;d>f;f++){mlayer.close(0|b[0].getAttribute("index"))}}},"function"==typeof define?define(function(){return mlayer}):function(){var b=document.scripts,h=b[b.length-1],g=h.src,f=g.substring(0,g.lastIndexOf("/")+1);h.getAttribute("merge")||document.head.appendChild(function(){var c=s.createElement("link");return c.href=f+"need/mlayer.css?2.0",c.type="text/css",c.rel="styleSheet",c.id="mlayermcss",c}())}()}(window);